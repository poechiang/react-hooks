#
name: public npm alpha
on:
  push:
    branches:
      - dev
jobs:
  release-please:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
      repository-projects: write
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Use release-please action
        uses: google-github-actions/release-please-action@v1

      - name: Get next version
        id: get_version
        run: echo "Next version is ${{ steps.release.outputs.version }}"

      - uses: google-github-actions/release-please-action@v3
        id: release
        with:
          release-type: node
          package-name: '@jeffchi/react-pkg'
          bump-patch-for-minor-pre-major: true
          default-branch: alpha/${{ steps.get_version.outputs.version }}
